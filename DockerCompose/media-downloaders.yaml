version: "3"
services:
  qbittorrent: 
    container_name: qbittorrent 
    image: lscr.io/linuxserver/qbittorrent:latest 
    restart: unless-stopped
    ports: 
      - 8081:8081
      - 6881:6881 
      - 6881:6881/udp 
    volumes: 
      - local-qbittorrent:/config 
      - local-downloads-torrents:/media/downloads/torrents
    environment: 
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
      TZ: America/Los_Angeles
      WEBUI_PORT: 8081

  sabnzbd:
    image: lscr.io/linuxserver/sabnzbd:latest
    container_name: sabnzbd
    hostname: sabnzbd
    restart: unless-stopped
    volumes:
      - local-sabnzbd:/config
      - local-downloads-usenet:/media/downloads/usenet #optional
    ports:
      - 8080:8080 
    environment:
      PUID: ${PUID}
      PGID: ${PGID}
      TZ: America/Los_Angeles

#Local volumes for fastest downloads (1Gbps = ~110MB/s)
volumes:

#DOWNLOAD_PATH is for the downloaders to store files they are working with (e.g. /media/downloads), this should be nested under the MEDIA_ROOT
  local-downloads-usenet:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${DOWNLOAD_PATH}/usenet
  local-downloads-torrents:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${DOWNLOAD_PATH}/torrents

#CONFIG_PATH is for application configuration directories, this can be anywhere you want to store the configs for each application
  local-qbittorrent:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/qbittorrent
  local-sabnzbd:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/sabnzbd
