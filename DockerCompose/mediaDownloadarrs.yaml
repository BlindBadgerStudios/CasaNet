version: "3"
services:
  prowlarr:
    container_name: prowlarr
    image: lscr.io/linuxserver/prowlarr:latest
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - 9696:9696
    volumes:
      - local-prowlarr:/config
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
  
  flaresolverr:
    container_name: flaresolverr
    image: ghcr.io/flaresolverr/flaresolverr:latest
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - 8191:8191
    volumes:
      - local-prowlarr:/config
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
      LOG_LEVEL: ${LOG_LEVEL:-info}
      LOG_HTML: ${LOG_HTML:-false}
      CAPTCHA_SOLVER: ${CAPTCHA_SOLVER:-none}

  radarr:
    container_name: radarr
    image: ghcr.io/linuxserver/radarr:latest
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - 7878:7878
    volumes:
      - local-radarr:/config
      - local-root:/media
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
  
  sonarr:
    container_name: sonarr-tvshows
    image: ghcr.io/linuxserver/sonarr:latest
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - 8989:8989
    volumes:
      - local-sonarr-tv:/config
      - local-root:/media
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
  
  sonarr-anime:
    container_name: sonarr-anime
    image: ghcr.io/linuxserver/sonarr:latest
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - 8990:8989
    volumes:
      - local-sonarr-anime:/config
      - local-root:/media
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
    
  readarr:
    container_name: readarr
    image: lscr.io/linuxserver/readarr:develop
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports: 
      - 8787:8787
    volumes: 
      - local-readarr:/config
      - local-root:/media
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100

  readarr-audio:
    container_name: readarr-audio
    image: lscr.io/linuxserver/readarr:develop
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports: 
      - 8788:8787
    volumes: 
      - local-readarr-audio:/config
      - local-root:/media
    environment:
      TZ: America/Los_Angeles
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100

  overseerr:
    container_name: overseer
    image: sctx/overseerr:latest
    restart: unless-stopped
    ports:
      - 5055:5055
    volumes:
      - local-overseerr:/app/config
    environment:
      PUID: ${PUID}
      PGID: ${PGID}
      TZ: America/Los_Angeles
      PORT: 5055
      LOG_LEVEL: debug
  
  qbittorrent: 
    container_name: qbittorrent 
    image: lscr.io/linuxserver/qbittorrent:latest 
    restart: unless-stopped
    ports: 
      - 8081:8081
      - 6881:6881 
      - 6881:6881/udp 
    volumes: 
      - local-qbittorrent:/config 
      - local-downloads-torrents:/media/downloads/torrents
    environment: 
      PUID: ${PUID} # Ex for Synology: 1026
      PGID: ${PGID} # Ex for Synology: 100
      TZ: America/Los_Angeles
      WEBUI_PORT: 8081

  sabnzbd:
    image: lscr.io/linuxserver/sabnzbd:latest
    container_name: sabnzbd
    hostname: sabnzbd
    restart: unless-stopped
    volumes:
      - local-sabnzbd:/config
      - local-downloads-usenet:/media/downloads/usenet #optional
    ports:
      - 8080:8080 
    environment:
      PUID: ${PUID}
      PGID: ${PGID}
      TZ: America/Los_Angeles

#Local volumes for fastest downloads (1Gbps = ~110MB/s)
volumes:

#MEDIA_ROOT is the root folder of the structure (e.g. /media), this should contain your plex/jellyfin library and the download folders
  local-root:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${MEDIA_ROOT}

#DOWNLOAD_PATH is for the downloaders to store files they are working with (e.g. /media/downloads), this should be nested under the MEDIA_ROOT
  local-downloads-usenet:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${DOWNLOAD_PATH}/usenet
  local-downloads-torrents:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${DOWNLOAD_PATH}/torrents

#CONFIG_PATH is for application configuration directories, this can be anywhere you want to store the configs for each application
  local-prowlarr:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/prowlarr
  local-radarr:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/radarr
  local-sonarr-tv:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/sonarr-tv
  local-sonarr-anime:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/sonarr-anime
  local-readarr:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/readarr
  local-readarr-audio:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/readarr-audio
  local-overseerr:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/overseerr

  local-qbittorrent:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/qbittorrent
  local-sabnzbd:
    driver: local 
    driver_opts:
      type: none
      o: bind
      device: ${CONFIG_PATH}/sabnzbd
